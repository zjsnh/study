# 智能指针

![image-20240618174914890](C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240618174914890.png)

![image-20240618174833673](C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240618174833673.png)

## 智能指针

![image-20240618175639062](C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240618175639062.png)

 

```C++
// 使用RAII思想设计的SmartPtr类
template<class T>
class SmartPtr {
public:
    SmartPtr(T* ptr = nullptr)
       : _ptr(ptr)
   {}
    ~SmartPtr()
   {
        if(_ptr)
            delete _ptr;
   }
    
private:
    T* _ptr;
};

```

![image-20240618180902729](C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240618180902729.png)

在其声明周期正常使用，如果遇到异常，跳过栈帧呢，自动调用析构释放