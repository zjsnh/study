```c++
#include <iostream>
#include <assert.h>
using std::cout;
using std::cin;
using std::endl;
```

<img src="C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240408164812699.png" alt="image-20240408164812699" style="zoom:50%;" />

<img src="C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240408164838934.png" alt="image-20240408164838934" style="zoom:50%;" />

运算符重载需要更加仔细想明白每一个运算符的全部应用

![image-20240408165154189](C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240408165154189.png)

```c++
// d1 - d2
int Date::operator-(const Date& d)
{
	int flag = 1;
	Date max = *this;
	Date min = d;
	if (*this < d)
	{
		min = *this;
		max = d;
		flag = -1;
	}

	int n = 0;
	while (min != max)
	{
		++n;
		++min;
	}

	return n*flag;
}
```

前置与后置的区别

<img src="C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240408165627926.png" alt="image-20240408165627926" style="zoom:80%;" />

对<<重载  设置成友元函数

![image-20240408172431209](C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240408172431209.png)

![image-20240408172745607](C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240408172745607.png)

![image-20240408172826791](C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240408172826791.png)

```c++
//void operator<<(std::ostream& out)
//{
//	out << _year << "-" << _month << "-" << _day << endl;
//}
```



```c++
// 友元函数
	friend std::ostream& operator<<(std::ostream& out, const Date& d);
	friend std::istream& operator>>(std::istream& out, Date& d);
```



```c++
std::ostream& operator<<(std::ostream& out, const Date& d)
{
	out << d._year << "-" << d._month << "-" << d._day << endl;c++
	return out;
}

std::istream& operator>>(std::istream& in, Date& d)
{
	in >> d._year >> d._month >> d._day;
	return in;
}
```

# const

```C++
//class A
//{
//public:
//	// const 修饰 *this
//	// this的类型变成 const A*
//	// 内部不改变成员变量的成员函数
//	// 最好加上const，const对象和普通对象都可以调用
//	void Print() const
//	{
//		cout << _a << endl;
//	}
//private:
//	int _a = 10;
//};
int main()
{
   const A aa;
   aa.Print();
}
```

<img src="C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240408175848865.png" alt="image-20240408175848865" style="zoom:50%;" />

间接的const对象 权限可以缩小，但不能放大  &防止拷贝构造  const防止改变变量

<img src="C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240408181449027.png" alt="image-20240408181449027" style="zoom:80%;" />

<img src="C:\Users\30780\AppData\Roaming\Typora\typora-user-images\image-20240408181809267.png" alt="image-20240408181809267" style="zoom:80%;" />